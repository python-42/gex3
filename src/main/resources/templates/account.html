<!DOCTYPE html>
<html lang="en">

<head>
    <th:block th:insert="fragments/header :: header"></th:block>
    <title>GEX: Account</title>
</head>

<!--TODO make this page look less weird-->

<body>
    <div th:replace="fragments/header :: websocket"></div>
    <script type=module th:src="@{/js/account.js}"></script>
    
    <th:block th:insert="fragments/templates :: errorModal"></th:block>
    <th:block th:insert="fragments/templates :: successModal"></th:block>

    <div class="container-fluid text-light">
        <th:block th:insert="fragments/navbar :: navbar"></th:block>
        <h1>Account</h1>

        <h2>Interest</h2>
        <div class="card bg-dark mb-3">
            <div class="card-body p-3">
                <h4 class="card-title">Current Interest: </h4>
                <p class="card-text" id="interest-text" th:text="${interest}"></p>
            </div>
        </div>

        <form method="post" id="interestForm" class="bg-dark text-primary p-3">
            <div class="form-group">
                <label for="interest-box">Interest:</label>
                <input type="text" class="form-control" placeholder="What are your interests?" name="interest-box"
                    id="interest-box" maxlength="100" required>
            </div>
            <button type="submit" class="btn btn-primary mt-3" name="interest_submit">Submit</button>
        </form>

        <div id="interest-error-text-div"></div>

        <hr>

        <h2>Email</h2>
        <div class="card bg-dark mb-3">
            <div class="card-body p-3">
                <h4 class="card-title">Current Email Address:</h4>
                <p class="card-text  mx-auto" th:text="${email}"></p>
            </div>
        </div>

        <form class="bg-dark text-primary p-3" method="post" id="emailForm">
            <div class="form-group">
                <label for="email-box">Set Email Address: </label>
                <input type="email" name="email-box" id="email-box" placeholder="someone@example.com"
                    class="form-control" required>
            </div>
            <button class="btn btn-primary mt-3" type="submit">Submit</button>
        </form>

        <hr>

        <h2>Password</h2>
        <form method="post" class="bg-dark text-primary p-3" name="passwordForm" id="passwordForm">
            <div class="form-group">
                <label for="current-box">Current Password:</label>
                <input type="password" class="form-control" placeholder="Enter your current password for security"
                    name="current-box" id="current-box" minlength="5" maxlength="20" required>
            </div>
            <div class="form-group">
                <label for="new-box" class="mt-3">New Password:</label>
                <input type="password" class="form-control" placeholder="Enter your new password" name="new-box"
                    id="new-box" minlength="5" maxlength="20" required>
            </div>
            <div class="form-group">
                <label for="confirm-box" class="mt-3">Confirm Password:</label>
                <input type="password" class="form-control" placeholder="Confirm your new password" name="confirm-box"
                    id="confirm-box" minlength="5" maxlength="20" required>
            </div>
            <button type="submit" class="btn btn-primary mt-3" name="updatePassword">Submit</button>
        </form>
    </div>
</body>

</html>